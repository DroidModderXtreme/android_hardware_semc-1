diff --git a/external/bluetooth/bluez/tools/hciattach.c b/external/bluetooth/bluez/tools/hciattach.c
index 62fbaff..e6c2e5f 100644
--- a/external/bluetooth/bluez/tools/hciattach.c
+++ b/external/bluetooth/bluez/tools/hciattach.c
@@ -1076,6 +1076,10 @@ struct uart_t uart[] = {
 	{ "texasalt",   0x0000, 0x0000, HCI_UART_LL,   115200, 115200,
 				FLOW_CTL, DISABLE_PM, NULL, texasalt, NULL   },
 
+	/* ST-Ericsson CG2900 GPS FM Bluetooth combo controller */
+	{ "cg2900",     0x0000, 0x0000, HCI_UART_STE,  115200, 115200,
+				FLOW_CTL, DISABLE_PM, NULL, NULL     },
+
 	/* ST Microelectronics minikits based on STLC2410/STLC2415 */
 	{ "st",         0x0000, 0x0000, HCI_UART_H4,    57600, 115200,
 				FLOW_CTL, DISABLE_PM,  NULL, st       },
@@ -1179,10 +1183,10 @@ static struct uart_t * get_by_type(char *type)
 }
 
 /* Initialize UART driver */
-static int init_uart(char *dev, struct uart_t *u, int send_break, int raw)
+static int init_uart(char *dev, struct uart_t *u, int send_break, int raw, int line_disc)
 {
 	struct termios ti;
-	int fd, i;
+	int fd;
 	unsigned long flags = 0;
 
 	if (raw)
@@ -1242,8 +1246,7 @@ static int init_uart(char *dev, struct uart_t *u, int send_break, int raw)
 	}
 
 	/* Set TTY to N_HCI line discipline */
-	i = N_HCI;
-	if (ioctl(fd, TIOCSETD, &i) < 0) {
+	if (ioctl(fd, TIOCSETD, &line_disc) < 0) {
 		perror("Can't set line discipline");
 		return -1;
 	}
@@ -1268,7 +1271,7 @@ static void usage(void)
 {
 	printf("hciattach - HCI UART driver initialization utility\n");
 	printf("Usage:\n");
-	printf("\thciattach [-n] [-p] [-b] [-r] [-t timeout] [-s initial_speed] <tty> <type | id> [speed] [flow|noflow] [bdaddr]\n");
+	printf("\thciattach [-n] [-p] [-a line_disc_nr] [-b] [-r] [-t timeout] [-s initial_speed] <tty> <type | id> [speed] [flow|noflow] [bdaddr]\n");
 	printf("\thciattach -l\n");
 }
 
@@ -1277,6 +1280,7 @@ int main(int argc, char *argv[])
 	struct uart_t *u = NULL;
 	int detach, printpid, raw, opt, i, n, ld, err;
 	int to = 10;
+	int line_disc = N_HCI;
 	int init_speed = 0;
 	int send_break = 0;
 	pid_t pid;
@@ -1289,8 +1293,11 @@ int main(int argc, char *argv[])
 	printpid = 0;
 	raw = 0;
 
-	while ((opt=getopt(argc, argv, "bnpt:s:lr")) != EOF) {
+	while ((opt=getopt(argc, argv, "bnpt:s:lra:")) != EOF) {
 		switch(opt) {
+		case 'a':
+			line_disc = atoi(optarg);
+			break;
 		case 'b':
 			send_break = 1;
 			break;
@@ -1406,7 +1413,7 @@ int main(int argc, char *argv[])
 	alarm(to);
 	bcsp_max_retries = to;
 
-	n = init_uart(dev, u, send_break, raw);
+	n = init_uart(dev, u, send_break, raw, line_disc);
 	if (n < 0) {
 		perror("Can't initialize device");
 		exit(1);
diff --git a/external/bluetooth/bluez/tools/hciattach.h b/external/bluetooth/bluez/tools/hciattach.h
index 1b23ad7..026885e 100644
--- a/external/bluetooth/bluez/tools/hciattach.h
+++ b/external/bluetooth/bluez/tools/hciattach.h
@@ -39,6 +39,7 @@
 #define HCI_UART_H4DS	3
 #define HCI_UART_LL	4
 #define HCI_UART_ATH3K  5
+#define HCI_UART_STE 6
 
 #define HCI_UART_RAW_DEVICE	0
 #define HCI_UART_RESET_ON_INIT	1
diff --git a/external/bluetooth/bluez/android/client/if-audio.c b/external/bluetooth/bluez/android/client/if-audio.c
index 66f8364..71f9dad 100644
--- a/external/bluetooth/bluez/android/client/if-audio.c
+++ b/external/bluetooth/bluez/android/client/if-audio.c
@@  -99,6 +99,9  @@  static void init_p(int argc, const char **argv)
 	int err;
 	const hw_module_t *module;
 	audio_hw_device_t *device;
+	int timeout = 1500; /* in ms */
+	int t = 300;
+

 	err = hw_get_module_by_class(AUDIO_HARDWARE_MODULE_ID,
 					AUDIO_HARDWARE_MODULE_ID_A2DP, &module);
@@  -107,8 +110,27  @@  static void init_p(int argc, const char **argv)
 		return;
 	}

+init_audio:
 	err = audio_hw_device_open(module, &device);
 	if (err) {
+		if (err == -EADDRINUSE && t < timeout) {
+			int err2;
+
+			/* We need to Stop media server to bind to socket. */
+			haltest_info("Trying to stop media server...\n");
+
+			err2 = system("/system/bin/setprop ctl.stop media");
+			if (err2) {
+				haltest_error("audio_hw_device_open returned",
+								" %d\n", err);
+				return;
+			}
+
+			usleep(t);
+			t += t;
+			goto init_audio;
+		}
+
 		haltest_error("audio_hw_device_open returned %d\n", err);
 		return;
 	}
@@  -358,6 +380,9  @@  static void cleanup_p(int argc, const char **argv)
 	}

 	if_audio = NULL;
+
+	/* get the media server back up and running */
+	err = system("/system/bin/setprop ctl.start media");
 }

 static void suspend_p(int argc, const char **argv)